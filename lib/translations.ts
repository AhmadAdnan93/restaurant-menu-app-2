export type Locale = "en" | "ar";

export const translations = {
  en: {
    home: "Home",
    ourRestaurants: "Our Restaurants",
    viewMenu: "View Menu",
    viewRestaurants: "View Restaurants",
    adminPanel: "Admin Panel",
    addRestaurant: "Add Restaurant",
    manage: "Manage",
    login: "Login",
    logout: "Logout",
    email: "Email",
    password: "Password",
    noRestaurants: "No restaurants yet",
    noRestaurantsAvailable: "No restaurants available",
    getStarted: "Get started by creating your first restaurant.",
    loading: "Loading...",
    loadingRestaurants: "Loading restaurants...",
    backendWarming: "Backend may be warming up",
    darkMode: "Dark mode",
    lightMode: "Light mode",
    arabic: "العربية",
    english: "English",
    appTitle: "Restaurant Menu",
    appTagline: "Modern digital menu solution for restaurants",
    retry: "Retry",
    refresh: "Refresh",
    checkBackLater: "Check back later for available restaurants.",
    loadError: "Could not load restaurants. The backend may be slow.",
    noMenuItems: "No menu items available yet.",
    allRightsReserved: "All rights reserved.",
    backToHome: "Back to Home",
    loginTitle: "Login",
    loginDescription: "Enter your credentials to access the admin panel",
    passwordPlaceholder: "Enter your password",
    loggingIn: "Logging in...",
    demoAccounts: "Demo Accounts:",
    success: "Success!",
    loggedInSuccess: "Logged in successfully",
    error: "Error",
    loginFailed: "Login failed",
    pleaseLoginAgain: "Please log in again.",
    edit: "Edit",
    delete: "Delete",
    cancel: "Cancel",
    adminAccessRequired: "Admin access required",
    adminRoleFixDescription: "You're logged in, but your account doesn't have admin rights yet. Run this in Supabase to fix it:",
    ranSqlCheckAgain: "I ran the SQL — Check again",
    categories: "categories",
    deletingRestaurant: "Delete Restaurant",
    deleteConfirm: "Are you sure you want to delete this? This action cannot be undone and will permanently delete the restaurant and all its data.",
    deleted: "Deleted",
    restaurantRemoved: "Restaurant removed.",
    deleteFailed: "Delete failed",
    wakeBackendRetry: "Wake backend & Retry",
    refreshing: "Refreshing...",
    rate: "Rate",
    rateThisDish: "Rate this dish",
    addCommentOptional: "Add a comment (optional)",
    submitRating: "Submit Rating",
    thankYou: "Thank you!",
    ratingSubmitted: "Your rating has been submitted.",
    ratingFailed: "Failed to submit rating. Please try again.",
    reviews: "reviews",
  },
  ar: {
    home: "الرئيسية",
    ourRestaurants: "مطاعمنا",
    viewMenu: "عرض القائمة",
    viewRestaurants: "عرض المطاعم",
    adminPanel: "لوحة التحكم",
    addRestaurant: "إضافة مطعم",
    manage: "إدارة",
    login: "تسجيل الدخول",
    logout: "تسجيل الخروج",
    email: "البريد الإلكتروني",
    password: "كلمة المرور",
    noRestaurants: "لا توجد مطاعم بعد",
    noRestaurantsAvailable: "لا توجد مطاعم متاحة",
    getStarted: "ابدأ بإنشاء مطعمك الأول.",
    loading: "جاري التحميل...",
    loadingRestaurants: "جاري تحميل المطاعم...",
    backendWarming: "قد يكون الخادم قيد التشغيل",
    darkMode: "الوضع الداكن",
    lightMode: "الوضع الفاتح",
    arabic: "العربية",
    english: "English",
    appTitle: "قائمة المطعم",
    appTagline: "حل قائمة رقمية حديث للمطاعم",
    retry: "إعادة المحاولة",
    refresh: "تحديث",
    checkBackLater: "تحقق لاحقاً من المطاعم المتاحة.",
    loadError: "تعذر تحميل المطاعم. قد يكون الخادم بطيئاً.",
    noMenuItems: "لا توجد عناصر قائمة متاحة بعد.",
    allRightsReserved: "جميع الحقوق محفوظة.",
    backToHome: "العودة للرئيسية",
    loginTitle: "تسجيل الدخول",
    loginDescription: "أدخل بياناتك للوصول إلى لوحة التحكم",
    passwordPlaceholder: "أدخل كلمة المرور",
    loggingIn: "جاري تسجيل الدخول...",
    demoAccounts: "حسابات تجريبية:",
    success: "تم بنجاح!",
    loggedInSuccess: "تم تسجيل الدخول بنجاح",
    error: "خطأ",
    loginFailed: "فشل تسجيل الدخول",
    pleaseLoginAgain: "يرجى تسجيل الدخول مرة أخرى.",
    edit: "تعديل",
    delete: "حذف",
    cancel: "إلغاء",
    adminAccessRequired: "مطلوب صلاحيات المدير",
    adminRoleFixDescription: "أنت مسجل الدخول، لكن حسابك لا يملك صلاحيات المدير. نفّذ هذا في Supabase لإصلاحه:",
    ranSqlCheckAgain: "نفذت SQL — تحقق مرة أخرى",
    categories: "فئات",
    deletingRestaurant: "حذف المطعم",
    deleteConfirm: "هل أنت متأكد من الحذف؟ لا يمكن التراجع عن هذا الإجراء وسيتم حذف المطعم وجميع بياناته نهائياً.",
    deleted: "تم الحذف",
    restaurantRemoved: "تم حذف المطعم.",
    deleteFailed: "فشل الحذف",
    wakeBackendRetry: "تشغيل الخادم وإعادة المحاولة",
    refreshing: "جاري التحديث...",
    rate: "تقييم",
    rateThisDish: "قيّم هذا الطبق",
    addCommentOptional: "أضف تعليقاً (اختياري)",
    submitRating: "إرسال التقييم",
    thankYou: "شكراً لك!",
    ratingSubmitted: "تم إرسال تقييمك.",
    ratingFailed: "فشل إرسال التقييم. يرجى المحاولة مرة أخرى.",
    reviews: "تقييمات",
  },
} as const;

const LOCALE_KEY = "locale";

export function getStoredLocale(): Locale {
  if (typeof window === "undefined") return "en";
  return (localStorage.getItem(LOCALE_KEY) as Locale) || "en";
}

export function setStoredLocale(locale: Locale) {
  if (typeof window !== "undefined") {
    localStorage.setItem(LOCALE_KEY, locale);
    document.documentElement.setAttribute("dir", locale === "ar" ? "rtl" : "ltr");
    document.documentElement.setAttribute("lang", locale === "ar" ? "ar" : "en");
  }
}
